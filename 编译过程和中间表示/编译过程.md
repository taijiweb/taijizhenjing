# 编译过程

太极语言的编译过程首先可以分成两个阶段，代码解析阶段和编译阶段。而编译阶段可以进一步划分为子阶段：编译时间代码编译阶段和运行时间代码编译阶段。其中编译时间代码也称为元代码。编译时间代码编译子阶段称为元代码编译阶段，或者元编译阶段，或者简称元编译。运行时间代码简称为目标代码，运行时间代码编译阶段也简称为目标编译。

首先来看目标编译的过程：目标编译要经过四个步骤：编译变化，表达式转换，编译优化和代码产生。每个步骤都以一个中间表示作为输入，并以一个中间表示作为输出，直到代码产生步骤，该步骤将产生最终目标代码的文本表示。

元编译阶段先进行元变换，得到元代码用作的编译变换输入中间表示。然后经过和目标编译一样的过程，产生元编译程序的目标代码。元变换过程还会记录遇到的目标代码用作编译变换的中间表示的各个片段，放置在一个数组中。用这个数组作为上述元编译程序的参数，将产生用作目标编译输入的中间表示。

我们看到，太极语言已经将整个编译过程划分成了很多步骤，每个步骤都只完成一件事情。同时，这些步骤都采用了统一的中间表示形式，也就是以列表（按照javascript术语也叫数组）为主体的json表示。